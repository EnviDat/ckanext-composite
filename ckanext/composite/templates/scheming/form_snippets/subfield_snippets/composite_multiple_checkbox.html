{% import 'macros/form.html' as form %}

<style>
fieldset.checkboxes{
    padding-top:5px;
}

fieldset.checkboxes label {
    font-weight: normal;
    display: inline-block;
    padding-right:10px;

}
fieldset.checkboxes label:after {
    content: none;
}
fieldset.checkboxes label input {
    width: auto;
    top: 0;
}
</style>

{%- set subfield_label=h.scheming_language_text(subfield.label) + ' ' + index|string -%}

{%- call form.input_block(
    label=subfield_label,
    classes=['control-medium'],
    error=errors[name],
    is_required=h.scheming_field_required(subfield)) -%}
    
	{%- set options=[] -%}
	{%- for c in subfield.choices -%}
	 {%- do options.append({'value': c.value, 'text': h.scheming_language_text(c.label) }) -%}
	{%- endfor -%}

    <fieldset class="checkboxes">
        {%- for option in options -%}
            <label for="{{ name }}-{{ option.value }}">
                <input id="{{ name }}-{{ option.value }}"
                    type="checkbox"
                    name="{{ name }}"
                    value="{{ option.value }}"
                    {{ "checked " if option.value in value }} 
                    />
                {{ option.text }} 
            </label>
        {%- endfor -%}
    </fieldset>
	{% if subfield_index>1 %}
	  {%- snippet 'scheming/form_snippets/help_text.html', field=subfield -%}
	{% endif %}
{%- endcall -%}
